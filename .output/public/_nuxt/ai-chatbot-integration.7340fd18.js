import{e as a,f as l,h as e,C as N,r as x,F as D,E as O,H as b,G as V,u as p,i as A,j as M,M as j,N as H,q as u,x as C,y as $,l as k,_ as S,b as J,B as L,O as P,m as G,t as K}from"./entry.23a0ee72.js";import{_ as U}from"./Button.vue.7e10987a.js";import"./arrow-right-thick.68a00a6b.js";const Z={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},q=e("path",{fill:"currentColor",d:"m2 21l21-9L2 3v7l15 2l-15 2v7Z"},null,-1),z=[q];function E(t,o){return a(),l("svg",Z,z)}const F={name:"mdi-send",render:E};var g=(t=>(t.System="system",t.User="user",t.Assistant="assistant",t))(g||{});const R=t=>(C("data-v-4a46df82"),t=t(),$(),t),Q={class:"flex flex-col h-screen p-2 md:p-10 md:pt-16"},W={class:"flex flex-col h-full bg-stone-900 shadow-md"},X=R(()=>e("div",{class:"bg-white px-4 py-1 box-content sticky top-14 flex flex-col md:flex-row md:items-end r-0"},[e("p",{class:"font-workSans text-black font-black text-4xl"},"CHATBOT"),e("p",{class:"font-workSans text-black text-sm ml-2 mb-1"},[k(" Powered by GPT-3.5 (using the "),e("a",{class:"text-secondary",href:"https://stevejobsarchive.com/book"},"Steve Job Book"),k(" as knowledge base) ")])],-1)),Y={id:"chatarea",class:"flex-grow w-full flex flex-col justify-end p-6"},ee={class:"flex flex-col"},te=["textContent"],oe={key:1,class:"h-fit min-h-[32px] p-1 px-2 bg-neutral-950 w-full chatbot shadow-md"},se={class:"flex flex-row h-fit"},ne=["textContent"],ae={class:"relative flex flex-row mt-4 items-center"},le=["onKeyup"],ce=["disabled"],ie=N({__name:"chatBot",setup(t){const o=x("");var i=x("");const s=x([{id:1,role:g.Assistant,content:"Hello there! How can I help you?",timestamp:Date.now(),loader:!1}]),w=async()=>{if(o.value==="")return;const r=o.value;o.value="",s.value.push({id:s.value.length+1,role:g.User,content:r,timestamp:Date.now(),loader:!1}),s.value.push({id:s.value.length+1,role:g.Assistant,content:"",timestamp:Date.now(),loader:!0});const d=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat:s.value.slice(0,s.value.length-1)})});if(!d.body)return;const _=d.body.getReader(),n=new TextDecoder("utf-8"),f=async()=>{console.log(i.value);const{done:m,value:T}=await _.read();if(m)return console.log("release locked"),s.value[s.value.length-1].loader=!1,s.value[s.value.length-1].content=i.value,i.value="",_.releaseLock();const y=n.decode(T);console.log(y);const v=y.split("data: ").map(c=>(console.log("val: ",c),c.replaceAll(`
`,""))).filter(c=>c!=="");var h="";for(let c=0;c<v.length;c++){try{console.log({content:JSON.parse(v[c]).choices[0].delta.content}),JSON.parse(v[c]).choices[0].delta.content===`

`?h="":h=JSON.parse(v[c]).choices[0].delta.content}catch(I){console.log(I)}h!==""&&h!==void 0&&(i.value=i.value+h),h=""}return f()};await f()};return(r,d)=>{const _=F;return a(),l("div",Q,[e("div",W,[X,e("div",Y,[e("div",ee,[(a(!0),l(D,null,O(p(s),n=>(a(),l("div",{key:n.id,class:"flex flex-row font-workSans"},[n.role==="assistant"&&!n.loader?(a(),l("div",{key:0,class:"min-h-[32px] h-fit p-1 px-2 bg-neutral-950 w-full",textContent:b(n.content)},null,8,te)):n.loader?(a(),l("div",oe,[e("div",se,[e("div",{class:V(["output relative",{emptyState:p(i)===""}])},b(p(i)),3)])])):(a(),l("div",{key:2,class:"p-1 px-2 min-h-[32px] h-fit user",textContent:b(n.content)},null,8,ne))]))),128))]),e("div",ae,[A(e("input",{onKeyup:j(w,["enter"]),"onUpdate:modelValue":d[0]||(d[0]=n=>H(o)?o.value=n:null),class:"font-workSans bg-gray1 w-full rounded-none focus:outline-gray-500 p-1 text-black pr-10"},null,40,le),[[M,p(o)]]),e("button",{class:"text-primary font-workSans disabled:opacity-60 disabled:cursor-not-allowed absolute right-2 top-1/2 transform -translate-y-1/2",onClick:w,disabled:p(o)===""},[u(_,{class:"text-xl"})],8,ce)])])])])}}});const re=S(ie,[["__scopeId","data-v-4a46df82"]]),de={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},_e=e("path",{fill:"currentColor",d:"M22 14h-1c0-3.87-3.13-7-7-7h-1V5.73A2 2 0 1 0 10 4c0 .74.4 1.39 1 1.73V7h-1c-3.87 0-7 3.13-7 7H2c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h1v1a2 2 0 0 0 2 2h14c1.11 0 2-.89 2-2v-1h1c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1M8.68 17.04L7.5 15.86l-1.18 1.18l-1.18-1.18L7.5 13.5l2.36 2.36l-1.18 1.18m9 0l-1.18-1.18l-1.18 1.18l-1.18-1.18l2.36-2.36l2.36 2.36l-1.18 1.18Z"},null,-1),he=[_e];function ue(t,o){return a(),l("svg",de,he)}const pe={name:"mdi-robot-excited",render:ue},fe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},me=e("path",{fill:"currentColor",d:"M11 7v2h2V7h-2m3 10v-2h-1v-4h-3v2h1v2h-1v2h4m8-5c0 5.5-4.5 10-10 10S2 17.5 2 12S6.5 2 12 2s10 4.5 10 10m-2 0c0-4.42-3.58-8-8-8s-8 3.58-8 8s3.58 8 8 8s8-3.58 8-8Z"},null,-1),ve=[me];function xe(t,o){return a(),l("svg",fe,ve)}const ge={name:"mdi-information-slab-circle-outline",render:xe};const B=t=>(C("data-v-f3f5e0ed"),t=t(),$(),t),we={class:"h-screen text-white flex justify-center"},be={class:"box-border w-11/12 md:w-3/4"},ye={class:"fixed bottom-1/2 md:bottom-10 right-4 md:right-10 text-4xl"},ke={class:"m-auto p-10 bg-stone-900 text-white relative sm:w-full md:w-3/4 lg:max-w-3xl"},Ce={class:"modal-header flex"},$e=B(()=>e("span",{class:"inline-block align-baseline mt-[-2px]"},"Customized ChatBot Demo",-1)),Se=B(()=>e("p",{class:"modal-text"},"Through the use of vector databases, users can provide private or up-to-date information for ChatGPT to learn and assist users with.",-1)),Be={__name:"ai-chatbot-integration",setup(t){const o=x(!1),i=J(),s=()=>{i.push({path:"/contact",query:{reason:"Artificial Intelligence"}})};return(w,r)=>{const d=re,_=ge,n=pe,f=U;return a(),l("div",we,[e("div",be,[u(d),e("div",ye,[u(_,{onClick:r[0]||(r[0]=m=>o.value=!0),class:"cursor-pointer"}),u(P,{name:"fade"},{default:L(()=>[o.value?(a(),l("div",{key:0,class:"modal",onClick:r[2]||(r[2]=G(m=>o.value=!1,["self"]))},[e("div",ke,[e("span",{class:"close absolute top-2 right-2",onClick:r[1]||(r[1]=m=>o.value=!1)},"Ã—"),e("h2",Ce,[u(n,{class:"mr-3"}),$e]),Se,u(f,{btnText:"Schedule Consultation",icon:"i-mdi-arrow-right-thick",ghost:"",onClick:s})])])):K("",!0)]),_:1})])])])}}},De=S(Be,[["__scopeId","data-v-f3f5e0ed"]]);export{De as default};
